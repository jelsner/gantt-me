---
title: "Gantt Charts"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r}
library(timevis)
```

Data without groups
```{r}
data <- data.frame(
  id      = 1:8,
  content = c("Attend Collaborative Collision", 
              "Organize the team", 
              "Write proposal",
              "Submit proposal", 
              "Statistically identify places",
              "Community visits", 
              "Synthesis results/write paper",
              "Write & submit proposal for external funds"),
  start   = c("2019-04-16", 
              "2019-04-18", 
              "2019-04-25", 
              "2019-05-25", 
              "2019-06-01", 
              "2019-08-06", 
              "2020-01-01",
              "2020-04-01"),
  end     = c(NA, 
              "2019-04-25",
              "2019-05-24", 
              NA, 
              "2019-08-05", 
              "2019-12-20", 
              "2020-03-31",
              "2020-06-01")
)
```

```{r}
timevis(data, showZoom = TRUE)
```

Data with groups
```{r}
data <- data.frame(
  content = c("Attend Collaborative Collision", 
              "Organize the team", 
              "Write seed proposal",
              "Submit proposal", 
              "Phase 1: Visit communities",
              "Phase 2: Visit communities", 
              "Write paper",
              "Write full proposal"),
  start   = c("2019-04-16", 
              "2019-04-18", 
              "2019-04-25", 
              "2019-05-24", 
              "2019-06-01", 
              "2019-08-06", 
              "2020-01-01",
              "2020-04-01"),
  end     = c(NA, 
              "2019-04-25",
              "2019-05-24", 
              NA, 
              "2019-08-05", 
              "2019-12-20", 
              "2020-03-31",
              "2020-06-01"),
  group = c(1, 1, 4, 1, 2, 3, 4, 4))
```

```{r}
timevis(data, fit = FALSE, 
        options = list(editable = TRUE),
        groups = data.frame(id = 1:4, 
                            content = c("Planning", 
                                        "Quantitative Methods", 
                                        "Qualitative Methods", 
                                        "Collaboration")))
```

Use ggplot2
```{r}
library(ggplot2)

df <- data.frame(
  project = c("Attend Collaborative Collision", 
              "Organize the team", 
              "Write seed proposal",
              "Submit proposal", 
              "Visit communities (Phase 1)",
              "Visit communities (Phase 2)", 
              "Write paper",
              "Write full proposal"),
  start   = c("2019-04-16", 
              "2019-04-18", 
              "2019-04-25", 
              "2019-05-24", 
              "2019-06-01", 
              "2019-08-06", 
              "2020-01-01",
              "2020-04-01"),
  end     = c("2019-04-17", 
              "2019-04-25",
              "2019-05-24", 
              "2019-05-25", 
              "2019-08-05", 
              "2019-12-20", 
              "2020-03-31",
              "2020-06-01"),
  group = c("Planning", "Planning", "Collaboration", "Planning", "Qualitative Methods", "Qualitative Methods", "Collaboration", "Collaboration"))

df$project_ordered <- factor(df$project, levels = df$project[1:8])
df$start <- as.Date(df$start)
df$end <- as.Date(df$end)

ggplot(df, aes(x = start, y = project_ordered, color = group)) +
  geom_segment(aes(x = start, xend = end, yend = project_ordered), size = 10) +
  ylab("Tasks") + xlab("") +
  theme_minimal() +
  theme(legend.title = element_blank(), legend.position = "top")


+
 scale_colour_discrete(guide=guide_legend(override.aes=list(size=7))) #or legend will be too big

